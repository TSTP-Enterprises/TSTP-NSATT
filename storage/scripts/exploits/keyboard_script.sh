#!/bin/bash

LOG_FILE="/var/log/keyboard_script.log"
exec 2>>$LOG_FILE

DEVICE_PATH="/dev/hidg0"

send_key() {
    local key="$1"
    echo -ne "$key" > $DEVICE_PATH 2>>$LOG_FILE
    sleep 0.1
    echo -ne '\x00\x00\x00\x00\x00\x00\x00\x00' > $DEVICE_PATH 2>>$LOG_FILE
    sleep 0.1
}

send_key '\x00\x00\x0b\x00\x00\x00\x00\x00'  # H
send_key '\x00\x00\x08\x00\x00\x00\x00\x00'  # e
send_key '\x00\x00\x0f\x00\x00\x00\x00\x00'  # l
send_key '\x00\x00\x0f\x00\x00\x00\x00\x00'  # l
send_key '\x00\x00\x12\x00\x00\x00\x00\x00'  # o
send_key '\x00\x00\x2c\x00\x00\x00\x00\x00'  # Space
send_key '\x00\x00\x1a\x00\x00\x00\x00\x00'  # W
send_key '\x00\x00\x12\x00\x00\x00\x00\x00'  # o
send_key '\x00\x00\x15\x00\x00\x00\x00\x00'  # r
send_key '\x00\x00\x0f\x00\x00\x00\x00\x00'  # l
send_key '\x00\x00\x07\x00\x00\x00\x00\x00'  # d
